(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{74600:function(e,t,n){var i=n(34311),r=n(23779),o=i(function(e,t,n){return e+(n?" ":"")+r(t)});e.exports=o},26688:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slices",function(){return n(20713)}])},93085:function(e,t,n){"use strict";n.d(t,{nZ:function(){return d},rT:function(){return m},tB:function(){return u}});var i=n(52322),r=n(7729),o=n(2784),l=n(30195),a=n(93188),s=n(4315),c=n(18493);function d(e){let{type:t,library:n,sliceId:i,variationId:r,langSmithUrl:o}=e,l=(0,c.i)({type:t,library:n,sliceId:i,variationId:r}),a=JSON.stringify({langSmithUrl:o});localStorage.setItem(l,a)}function u(e){let{type:t,library:n,sliceId:i,variationId:r}=e,o=(0,c.i)({type:t,library:n,sliceId:i,variationId:r});localStorage.removeItem(o)}function m(e){let{type:t,library:n,sliceId:d,variationId:u}=e,{key:m,value:f,done:x}=function(e){let{type:t,library:n,sliceId:i,variationId:r}=e,o=(0,c.i)({type:t,library:n,sliceId:i,variationId:r}),[a,d]=(0,s.V)(o,void 0,{schema:l.z.object({langSmithUrl:l.z.string().url().optional()})});return{key:o,value:a,done:()=>d(void 0)}}({type:t,library:n,sliceId:d,variationId:u}),[h,p]=(0,o.useState)(),v=e=>()=>{f&&(p(m),a.Xe.track({event:"slice-generation-feedback",type:t,sliceId:d,variationId:u,feedback:e,langSmithUrl:f.langSmithUrl}),x())};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h_i,{children:(0,i.jsx)(r.FNi,{anchor:(0,i.jsx)(r.xuv,{width:"100%",justifyContent:"center",position:"absolute",bottom:64}),icon:"check",title:"Thanks for your feedback!",seconds:2,open:!!h,onOpenChange:e=>{e||p(void 0)}},h)}),(0,i.jsx)(r.FpX,{children:f&&(0,i.jsxs)(r.xuv,{flexDirection:"row",justifyContent:"end",gap:8,alignItems:"center",children:[(0,i.jsx)(r.xvT,{color:"grey11",children:"Did the AI get it right?"}),(0,i.jsxs)(r.xuv,{flexDirection:"row",gap:4,children:[(0,i.jsx)(r.ua7,{side:"bottom",sideOffset:4,variant:"text",content:"Looks good",children:(0,i.jsx)(r.hU,{variant:"solid",size:"small",icon:"thumbUp",onClick:v("up")})}),(0,i.jsx)(r.ua7,{side:"bottom",sideOffset:4,variant:"text",content:"Needs improvement",children:(0,i.jsx)(r.hU,{variant:"solid",size:"small",icon:"thumbDown",onClick:v("down")})})]})]})})]})}},4315:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(2784);function r(e,t,n){let{schema:r}=null!=n?n:{},o=()=>{try{let n=localStorage.getItem(e);if(null==n)return t;if(!r)return JSON.parse(n);return r.parse(JSON.parse(n))}catch(e){return t}},[l,a]=(0,i.useState)(o),[s,c]=(0,i.useState)(e);return s!==e&&(c(e),a(o())),[l,(0,i.useCallback)(n=>{a(i=>{let r;if(void 0===(r="function"==typeof n?n(i):n)){try{localStorage.removeItem(e)}catch(e){return i}return t}try{localStorage.setItem(e,JSON.stringify(r))}catch(e){return i}return r})},[e,t])]}},47861:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var i=n(52322),r=n(2784),o=n(75289);let l=(e,t)=>e?"".concat(e,"-").concat(t):"",a=e=>{switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},s=(0,r.forwardRef)((e,t)=>{let{label:n,Icon:r,type:s,form:c,isLoading:d=!1,disabled:u=!1,onClick:m,sx:f={},iconSize:x=16,iconFill:h,variant:p="primary",...v}=e;return(0,i.jsx)(o.zx,{ref:t,sx:{...f,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",...d?{cursor:"wait !important"}:{}},type:s,form:c,disabled:u||d,onClick:d?void 0:m,variant:p,...v,children:d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.$j,{size:x,color:a(p),"data-testid":l(v["data-testid"],"spinner")}),r&&n]}):(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(r,{size:x,fill:h,"data-testid":l(v["data-testid"],"icon")}),n]})})})},17889:function(e,t,n){"use strict";n.d(t,{c:function(){return g}});var i=n(52322),r=n(2784),o=n(36131),l=n(75289),a=n(93188),s=n(65856),c=n(88932),d=n(3181),u=n(99510),m=n(70647);async function f(e){let{sliceName:t,libraryName:n,location:i,onSuccess:r}=e;try{let e=(0,d.fo)(t),{errors:o}=await m.managerClient.slices.createSlice({libraryID:n,model:e});if(o.length>0)throw o;a.Xe.track({event:"slice:created",id:(0,u.MP)(t),name:t,library:n,location:i,mode:"manual"}),await r(e)}catch(n){let e="An unexpected error happened while creating slice ".concat(t,".");console.error(e,n),c.Am.error(e)}}var x=n(80546),h=n(1490),p=n(41067),v=n(28801),y=n(99923);let g=e=>{let{onClose:t,onSuccess:n,localLibraries:c,location:d,remoteSlices:u}=e,{createSliceSuccess:m}=(0,p.Z)(),[g,b]=(0,r.useState)(!1),{syncChanges:j}=(0,x.g)(),{completeStep:k}=(0,s.k)(),S=async e=>{let t=e.sliceName,i=e.from;b(!0),await f({sliceName:t,libraryName:i,location:d,onSuccess:async e=>{m((await (0,a.y0)()).libraries),n(e,i),j(),k("createSlice")}})};return(0,i.jsx)(h.Z,{testId:"create-slice-modal",isOpen:!0,widthInPx:"530px",isLoading:g,formId:"create-new-slice",close:t,buttonLabel:"Create",onSubmit:e=>{S(e)},initialValues:{sliceName:"",from:c[0].name},validate:e=>(0,y.h)(e,c,u),content:{title:"Create a new slice"},children:e=>{let{touched:t,values:n,setFieldValue:r,errors:a}=e;return(0,i.jsxs)(l.xu,{children:[(0,i.jsx)(v.W,{name:"sliceName",label:"Slice Name",placeholder:"Pascalised Slice API ID (e.g. TextBlock)",error:t.sliceName?a.sliceName:void 0,testId:"slice-name-input"}),(0,i.jsx)(l.__,{htmlFor:"from",sx:{mb:2},children:"Target Library"}),(0,i.jsx)(o.ZP,{name:"from",options:c.map(e=>({value:e.name,label:e.name})),onChange:e=>e?void r("from",e.value):null,defaultValue:{value:n.from,label:n.from},styles:{option:e=>({...e,color:"#161618"})},theme:e=>({...e,colors:{...e.colors,primary:"#E9E8EA"}}),menuPortalTarget:document.body})]})}})}},28801:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(52322),r=n(63397);n(2784);var o=n(75289);let l=e=>{let{name:t,label:n,placeholder:l,error:a,testId:s,onChange:c}=e;return(0,i.jsxs)(o.xu,{mb:3,children:[(0,i.jsx)(o.__,{htmlFor:t,mb:2,children:n}),(0,i.jsx)(r.gN,{name:t,type:"text",placeholder:l,as:o.II,autoComplete:"off",...c?{onChange:c}:null,...s?{"data-testid":s}:null}),a?(0,i.jsx)(o.xv,{"data-testid":s?"".concat(s,"-error"):"input-error",sx:{color:"error",mt:1},children:a}):null]})}},99923:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var i=n(96009),r=n.n(i),o=n(74600),l=n.n(o),a=n(17186);function s(e,t,n){let{sliceName:i}=e;return i?a.lS.includes(i.toLowerCase())?{sliceName:'Name "'.concat(i,'" is reserved for Slice Machine use.')}:a.xo.exec(i)?l()(r()(i)).replace(/\s/gm,"")!==i.trim()?{sliceName:"Value has to be PascalCased."}:i.match(/^\d/)?{sliceName:"Value cannot start with a number."}:[...t.flatMap(e=>e.components.map(e=>e.model.name)),...n.map(e=>e.name)].includes(i)?{sliceName:"Slice name is already taken."}:void 0:{sliceName:"No special characters allowed."}:{sliceName:"Cannot be empty"}}},42849:function(e,t,n){"use strict";var i=n(52322),r=n(75289);t.Z=function(e){let{elems:t,renderElem:n,defineElementKey:o,gridTemplateMinPx:l="320px",gridGap:a="16px",sx:s}=e;return(0,i.jsx)(r.xu,{as:"section",sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(l,", 1fr))"),gridGap:a,pt:2,...s},children:t.map((e,t)=>e?(0,i.jsx)("span",{children:n(e,t)},"".concat(o(e),"-").concat(t+1)):null)})}},1490:function(e,t,n){"use strict";var i=n(52322),r=n(63397),o=n(37149),l=n.n(o),a=n(75289),s=n(47861),c=n(11104),d=n(76805);function u(e){let{children:t}=e,n=(0,d.W)();return(0,i.jsx)(a.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:e=>{var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.borders)}},children:t})}t.Z=function(e){let{children:t,close:n,isOpen:o,formId:m,validate:f,onSubmit:x,widthInPx:h,initialValues:p,content:{title:v},cardProps:y,omitFooter:g=!1,isLoading:b=!1,buttonLabel:j="Save",testId:k,actionMessage:S}=e;return l().setAppElement("#__next"),(0,i.jsx)(c.Z,{isOpen:o,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:v,style:{content:{width:null!=h?h:"900px"}},children:(0,i.jsx)(r.J9,{initialValues:p,validate:e=>f?f(e):void 0,onSubmit:e=>{x(e)},children:e=>{let{isValid:o,isSubmitting:l,values:c,errors:f,touched:x,setFieldValue:h,setValues:p}=e;return(0,i.jsx)(r.l0,{id:m,...null!=k?{"data-testid":k}:null,children:(0,i.jsx)(d.Z,{borderFooter:!0,footerSx:{p:3,position:"sticky",bottom:0,background:"gray"},bodySx:{px:4,py:4},sx:{border:"none"},...y,Header:(0,i.jsxs)(u,{children:[(0,i.jsx)(a.X6,{sx:{fontSize:"20px"},children:v}),(0,i.jsx)(a.x8,{type:"button",onClick:n})]}),Footer:g?null:(0,i.jsxs)(a.kC,{sx:{alignItems:"space-between"},children:[(0,i.jsx)(a.kC,{sx:{fontSize:"14px",alignItems:"center"},children:"function"==typeof S?S(e):S}),(0,i.jsxs)(a.kC,{sx:{ml:"auto"},children:[(0,i.jsx)(a.zx,{mr:2,type:"button",onClick:n,variant:"secondary",disabled:l||b,children:"Cancel"}),(0,i.jsx)(s.z,{label:j,form:m,type:"submit",disabled:!o||l||b,isLoading:l||b,sx:{fontWeight:"400",paddingBlock:"8px",paddingInline:"16px",fontSize:"14px",borderRadius:"4px"}})]})]}),children:t({isValid:o,isSubmitting:l,values:c,errors:f,touched:x,setFieldValue:h,setValues:p})})})}})})}},20713:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var i=n(52322),r=n(7729),o=n(97729),l=n.n(o),a=n(5632),s=n(2784),c=n(56580),d=n(88932),u=n(65077),m=n(75289),f=n(23335),x=n(53850),h=n(89513),p=n(76787),v=n(5335),y=n(65186),g=n(59326),b=n(93085),j=n(70647);async function k(e){let{sliceName:t,sliceID:n,libraryID:i,sliceVariationIds:r,onSuccess:o}=e;try{let{errors:e}=await j.managerClient.slices.deleteSlice({libraryID:i,sliceID:n});if(e.length>0)throw e;r.forEach(e=>{(0,b.tB)({type:"model",library:i,sliceId:n,variationId:e})}),o(),d.Am.success("Successfully deleted slice “".concat(t,"”"))}catch(n){let e="An unexpected error happened while deleting slice “".concat(t,"”.");console.error(e,n),d.Am.error(e)}}var S=n(80546),w=n(47861),C=n(76805),I=n(11104),N=n(41067);let L=e=>{var t;let{isOpen:n,libName:r,sliceId:o,sliceName:l,sliceVariationIds:a,onClose:c}=e,[d,u]=(0,s.useState)(!1),{deleteSliceSuccess:f}=(0,N.Z)(),{syncChanges:x}=(0,S.g)(),{theme:h}=(0,g.B7)(),p=async()=>{u(!0),await k({libraryID:r,sliceID:o,sliceName:l,sliceVariationIds:a,onSuccess:()=>{f(o,r),x()}}),c(),u(!1)};return(0,i.jsx)(I.Z,{isOpen:n,shouldCloseOnOverlayClick:!0,style:{content:{maxWidth:612}},onRequestClose:c,children:(0,i.jsx)(C.Z,{bodySx:{p:0,bg:"white",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none"},borderFooter:!0,Header:(0,i.jsxs)(m.kC,{sx:{position:"sticky",background:"gray",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:e=>{var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.borders))}},children:[(0,i.jsxs)(m.kC,{sx:{alignItems:"center"},children:[(0,i.jsx)(y.$vK,{size:20,color:null===(t=h.colors)||void 0===t?void 0:t.greyIcon}),(0,i.jsx)(m.X6,{sx:{fontSize:"14px",fontWeight:"bold",ml:1},children:"Delete Slice"})]}),(0,i.jsx)(m.x8,{type:"button",onClick:c})]}),Footer:()=>(0,i.jsxs)(m.kC,{sx:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:e=>{var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.darkBorders))},backgroundColor:"gray"},children:[(0,i.jsx)(w.z,{label:"Cancel",variant:"secondary",onClick:c,sx:{mr:"10px",fontWeight:"bold",color:"grey12",borderRadius:6}}),(0,i.jsx)(w.z,{label:"Delete",variant:"danger",isLoading:d,sx:{minHeight:39,minWidth:78},onClick:()=>{p()}})]}),children:(0,i.jsxs)(m.nv,{children:["This action will immediately make the following changes:",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Delete the"," ",(0,i.jsxs)(m.xv,{sx:{fontWeight:"bold"},children:[r,"/",l,"/"]})," ","directory."]}),(0,i.jsx)("li",{children:"Remove the Slice from all Slice Zones that use it."})]}),"The next time you push your changes to Prismic, the following change will happen:",(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"Remove the Slice from the list of available Slices to use in the Page Builder."})}),"You will need to manually remove the Slice from any Pages that currently use it."]})})})};var E=n(36887),O=n(93188),A=e=>{let{title:t,onCreateNew:n,buttonText:r,documentationComponent:o,videoPublicIdUrl:l,...a}=e;return(0,i.jsxs)(m.xu,{sx:{display:"flex",width:"80%",flexWrap:"wrap",justifyContent:"center"},...a,children:[(0,i.jsx)(m.xu,{sx:e=>{var t;return{display:"flex",flex:1,alignItems:"center",minWidth:"400px",maxWidth:"70%",border:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02)}},children:(0,i.jsx)(E.nk,{cloudName:"dmtf1daqp",controls:!0,loop:!0,style:{maxWidth:"100%",objectFit:"contain"},publicId:l,onPlay:()=>{O.Xe.track({event:"open-video-tutorials",video:l})}})}),(0,i.jsxs)(m.xu,{sx:e=>{var t;return{bg:"white",display:"flex",flexDirection:"column",border:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02),flex:1,minWidth:"400px",maxWidth:"70%"}},children:[(0,i.jsxs)(m.xu,{sx:e=>{var t;return{display:"flex",flexDirection:"column",p:4,borderBottom:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02)}},children:[(0,i.jsx)(m.X6,{as:"h3",variant:"heading",sx:{fontSize:"16px",lineHeight:"24px",mb:2},children:t}),(0,i.jsx)(m.xv,{variant:"xs",sx:{lineHeight:"24px",fontSize:"13px"},children:o})]}),(0,i.jsxs)(m.xu,{sx:{display:"flex",p:4,alignItems:"center"},children:[(0,i.jsx)(m.zx,{onClick:n,"data-testid":"empty-state-main-button",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,mr:4},children:r}),(0,i.jsx)(m.xv,{sx:{fontSize:"12px",color:"grey04",maxWidth:"280px"},children:"It will be stored locally and you will be able to push it to your repository"})]})]})]})},R=n(17889),z=n(3181),P=n(80410);async function D(e){let{slice:t,newSliceName:n,onSuccess:i}=e;try{let e=(0,z.PQ)(t,n),{errors:r}=await j.managerClient.slices.renameSlice({libraryID:t.from,model:P.id.fromSM(e.model)});if(r.length>0)throw r;i(e),d.Am.success("Slice name updated")}catch(n){let e="An unexpected error happened while renaming “".concat(t.model.name,"”.");console.error(e,n),d.Am.error(e)}}var W=n(68916),_=n(1490),T=n(28801),F=n(99923);let Z=e=>{var t,n;let{slice:r,isOpen:o,onClose:l}=e,{renameSliceSuccess:a}=(0,N.Z)(),{syncChanges:s}=(0,S.g)(),{localLibs:d,remoteLibs:u}=(0,c.v9)(e=>({localLibs:(0,W.Sd)(e),remoteLibs:(0,W.sT)(e)})),f=null!==(t=null==r?void 0:r.model.name)&&void 0!==t?t:"",x=async e=>{r&&(await D({slice:r,newSliceName:e.sliceName,onSuccess:e=>{a(e.from,e.model),s()}}),l())};return(0,i.jsx)(_.Z,{testId:"rename-slice-modal",isOpen:o,widthInPx:"530px",formId:"rename-slice-modal-".concat(null!==(n=null==r?void 0:r.model.id)&&void 0!==n?n:""),close:l,buttonLabel:"Rename",onSubmit:e=>void x(e),initialValues:{sliceName:f},content:{title:"Rename a slice"},validate:e=>(0,F.h)(e,d,u),children:e=>{let{touched:t,errors:n}=e;return(0,i.jsx)(m.xu,{children:(0,i.jsx)(T.W,{name:"sliceName",label:"Slice Name","data-testid":"slice-name-input",placeholder:"Pascalised Slice API ID (e.g. TextBlock)",error:t.sliceName?n.sliceName:void 0,testId:"slice-name-input"})})}})};var K=n(42849),B=n(39283),H=n(91133),V=n(17186),M=()=>{var e,t,n,o;let y=(0,a.useRouter)(),{modalPayload:g,onOpenModal:b}=(0,p.H)(),{sliceFilterFn:j,defaultVariationSelector:k}=g,{remoteSlices:S,libraries:w}=(0,c.v9)(e=>({remoteSlices:(0,W.sT)(e),libraries:(0,W.Sd)(e)})),[C,I]=(0,s.useState)(!1),[N,E]=(0,s.useState)(!1),[O,z]=(0,s.useState)(!1),P=w.filter(e=>e.isLocal),D=w.map(e=>(e.components=[...e.components].sort((e,t)=>e.model.name.localeCompare(t.model.name)),e)),_=(w||[]).map(e=>e.components).flat(),T=_.length,[F,M]=(0,s.useState)(),U=()=>{E(!0)},X=()=>{z(!0)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l(),{children:(0,i.jsx)("title",{children:"Slices - Slice Machine"})}),(0,i.jsxs)(v.LN,{children:[(0,i.jsxs)(v.wd,{children:[(0,i.jsx)(v.Cx,{children:(0,i.jsx)(f.g,{children:"Slices"})}),(null==P?void 0:P.length)!==0&&0!==T?(0,i.jsx)(v.K2,{children:(0,i.jsx)(r.zxk,{"data-testid":"create-slice",onClick:()=>{I(!0)},startIcon:"add",children:"Create"})}):void 0]}),(0,i.jsxs)(v.RN,{children:[(0,i.jsx)(u.xR,{sx:{display:"flex",flexDirection:"column"},children:D.length>0?(0,i.jsx)(m.kC,{sx:{flex:1,flexDirection:"column"},children:0===T?(0,i.jsx)(m.kC,{sx:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(A,{title:"What are Slices?",onCreateNew:()=>{I(!0)},buttonText:"Create one",videoPublicIdUrl:V.rd,documentationComponent:(0,i.jsxs)(i.Fragment,{children:['Slices are sections of your website. Prismic documents contain a dynamic "Slice Zone" that allows content creators to add, edit, and rearrange Slices to compose dynamic layouts for any page design.'," ",(0,i.jsx)(m.rU,{target:"_blank",href:"https://prismic.io/docs/core-concepts/slices",sx:e=>{var t;return{color:null==e?void 0:null===(t=e.colors)||void 0===t?void 0:t.primary}},children:"Learn more"}),"."]}),"data-testid":"slices-table-blank-slate"})}):D.map(e=>{let{name:t,isLocal:n,components:r}=e;return(0,i.jsxs)(m.kC,{sx:{flexDirection:"column","&:not(:last-of-type)":{mb:4}},children:[(0,i.jsxs)(m.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(m.kC,{sx:{alignItems:"center",fontSize:3,lineHeight:"48px",fontWeight:"heading",mb:1},children:(0,i.jsx)(m.xv,{children:t})}),!n&&(0,i.jsx)("p",{children:"⚠️ External libraries are read-only"})]}),(0,i.jsx)(K.Z,{elems:r,defineElementKey:e=>e.model.name,renderElem:e=>(0,i.jsx)(x.b,{action:{type:"menu",onRemove:()=>{M(e),U()},onRename:()=>{M(e),X()}},mode:"navigation",onUpdateScreenshot:()=>{b({sliceFilterFn:t=>t.filter(t=>t.model.id===e.model.id)})},slice:e,variant:"solid"}),gridGap:"32px 16px"})]},t)})}):void 0}),(null==P?void 0:P.length)>0&&(0,i.jsx)(B.Z,{slices:j(_),defaultVariationSelector:k}),(null==P?void 0:P.length)>0&&C&&(0,i.jsx)(R.c,{localLibraries:P,location:"slices",remoteSlices:S,onSuccess:(e,t)=>{let n=e.variations[0].id,i=h.Y.getBuilderPagePathname({libraryName:t,sliceName:e.name,variationId:n});y.push(i),d.Am.success((0,H.kQ)({path:"".concat(t,"/").concat(e.name,"/model.json")}))},onClose:()=>{I(!1)}}),(0,i.jsx)(Z,{isOpen:O,slice:F,onClose:()=>{z(!1)},"data-testid":"rename-slice-modal"}),(0,i.jsx)(L,{isOpen:N,libName:null!==(e=null==F?void 0:F.from)&&void 0!==e?e:"",sliceId:null!==(t=null==F?void 0:F.model.id)&&void 0!==t?t:"",sliceName:null!==(n=null==F?void 0:F.model.name)&&void 0!==n?n:"",sliceVariationIds:(null!==(o=null==F?void 0:F.model.variations)&&void 0!==o?o:[]).map(e=>e.id),onClose:()=>{E(!1)}})]})]})]})}},18493:function(e,t,n){"use strict";n.d(t,{i:function(){return o},v:function(){return r}});let i=e=>"slice-machine_".concat(e),r=i("staticFieldsInfoDialogDismissed");function o(e){let{type:t,library:n,sliceId:r,variationId:o}=e;return i(["ai-feedback",t,n,r,o].join("#"))}},76473:function(e,t,n){"use strict";n.d(t,{y1:function(){return b}});var i=n(2784);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n(52322);var o=["shift","alt","meta","mod","ctrl"],l={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function a(e){return(l[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function s(e,t){return void 0===t&&(t=","),e.split(t)}function c(e,t,n){void 0===t&&(t="+");var i=e.toLocaleLowerCase().split(t).map(function(e){return a(e)}),l={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod")},s=i.filter(function(e){return!o.includes(e)});return r({},l,{keys:s,description:n})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&m([a(e.key),a(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&f([a(e.key),a(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){d.clear()});var d=new Set;function u(e){return Array.isArray(e)}function m(e){var t=Array.isArray(e)?e:[e];d.has("meta")&&d.forEach(function(e){return!o.includes(e)&&d.delete(e.toLowerCase())}),t.forEach(function(e){return d.add(e.toLowerCase())})}function f(e){var t=Array.isArray(e)?e:[e];"meta"===e?d.clear():t.forEach(function(e){return d.delete(e.toLowerCase())})}function x(e,t){var n=e.target;void 0===t&&(t=!1);var i=n&&n.tagName;return u(t)?!!(i&&t&&t.some(function(e){return e.toLowerCase()===i.toLowerCase()})):!!(i&&t&&!0===t)}var h=function(e,t,n){void 0===n&&(n=!1);var i,r=t.alt,o=t.meta,l=t.mod,s=t.shift,c=t.ctrl,m=t.keys,f=e.key,x=e.code,h=e.ctrlKey,p=e.metaKey,v=e.shiftKey,y=e.altKey,g=a(x),b=f.toLowerCase();if(!n){if(!y===r&&"alt"!==b||!v===s&&"shift"!==b)return!1;if(l){if(!p&&!h)return!1}else if(!p===o&&"meta"!==b&&"os"!==b||!h===c&&"ctrl"!==b&&"control"!==b)return!1}return!!(m&&1===m.length&&(m.includes(b)||m.includes(g)))||(m?(void 0===i&&(i=","),(u(m)?m:m.split(i)).every(function(e){return d.has(e.trim().toLowerCase())})):!m)},p=(0,i.createContext)(void 0),v=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),y=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},g="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function b(e,t,n,r){var o,l=(0,i.useRef)(null),d=(0,i.useRef)(!1),b=n instanceof Array?r instanceof Array?void 0:r:n,j=u(e)?e.join(null==b?void 0:b.splitKey):e,k=n instanceof Array?n:r instanceof Array?r:void 0,S=(0,i.useCallback)(t,null!=k?k:[]),w=(0,i.useRef)(S);k?w.current=S:w.current=t;var C=(!function e(t,n){return t&&n&&"object"==typeof t&&"object"==typeof n?Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce(function(i,r){return i&&e(t[r],n[r])},!0):t===n}((o=(0,i.useRef)(void 0)).current,b)&&(o.current=b),o.current),I=(0,i.useContext)(v).enabledScopes,N=(0,i.useContext)(p);return g(function(){if((null==C?void 0:C.enabled)!==!1&&(e=null==C?void 0:C.scopes,0===I.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!e||I.some(function(t){return e.includes(t)})||I.includes("*")))){var e,t=function(e,t){var n;if(void 0===t&&(t=!1),!(x(e,["input","textarea","select"])&&!x(e,null==C?void 0:C.enableOnFormTags)||null!=C&&null!=C.ignoreEventWhen&&C.ignoreEventWhen(e))){if(null!==l.current&&document.activeElement!==l.current&&!l.current.contains(document.activeElement)){y(e);return}(null==(n=e.target)||!n.isContentEditable||null!=C&&C.enableOnContentEditable)&&s(j,null==C?void 0:C.splitKey).forEach(function(n){var i,r,o,l=c(n,null==C?void 0:C.combinationKey);if(h(e,l,null==C?void 0:C.ignoreModifiers)||null!=(o=l.keys)&&o.includes("*")){if(t&&d.current)return;if(("function"==typeof(i=null==C?void 0:C.preventDefault)&&i(e,l)||!0===i)&&e.preventDefault(),"function"==typeof(r=null==C?void 0:C.enabled)?!r(e,l):!0!==r&&void 0!==r){y(e);return}w.current(e,l),t||(d.current=!0)}})}},n=function(e){void 0!==e.key&&(m(a(e.code)),((null==C?void 0:C.keydown)===void 0&&(null==C?void 0:C.keyup)!==!0||null!=C&&C.keydown)&&t(e))},i=function(e){void 0!==e.key&&(f(a(e.code)),d.current=!1,null!=C&&C.keyup&&t(e,!0))},r=l.current||(null==b?void 0:b.document)||document;return r.addEventListener("keyup",i),r.addEventListener("keydown",n),N&&s(j,null==C?void 0:C.splitKey).forEach(function(e){return N.addHotkey(c(e,null==C?void 0:C.combinationKey,null==C?void 0:C.description))}),function(){r.removeEventListener("keyup",i),r.removeEventListener("keydown",n),N&&s(j,null==C?void 0:C.splitKey).forEach(function(e){return N.removeHotkey(c(e,null==C?void 0:C.combinationKey,null==C?void 0:C.description))})}}},[j,C,I]),l}}},function(e){e.O(0,[898,789,44,772,639,888,774,179],function(){return e(e.s=26688)}),_N_E=e.O()}]);